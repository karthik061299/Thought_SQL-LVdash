{
  "version": "1.0",
  "metadata": {
    "name": "New Devices",
    "description": "HPX Events Model with IIDE Table - Line chart showing New Devices and Cumulative New Devices over time",
    "created_by": "ThoughtSpot Migration Agent",
    "created_at": "2024-01-01T00:00:00Z",
    "tags": ["hpx_events", "devices", "analytics"]
  },
  "datasets": [
    {
      "name": "hpx_events_model_dataset",
      "displayName": "HPX Events Model Dataset",
      "query": "SELECT DATE_TRUNC('DAY', event_date_time) as daily_event_date_time, SUM(new_devices_1) as new_devices, SUM(SUM(new_devices_1)) OVER (ORDER BY DATE_TRUNC('DAY', event_date_time) ROWS UNBOUNDED PRECEDING) as cumulative_new_devices FROM team_css_analytics_prod.hpx_analytics.hpx_events_model_iide_metric_view GROUP BY DATE_TRUNC('DAY', event_date_time) ORDER BY daily_event_date_time"
    }
  ],
  "pages": [
    {
      "name": "page_1",
      "displayName": "New Devices Analysis",
      "layout": {
        "position": {
          "x": 0,
          "y": 0,
          "width": 12,
          "height": 8
        }
      },
      "widgets": [
        {
          "name": "new_devices_line_chart",
          "displayName": "New Devices",
          "position": {
            "x": 0,
            "y": 0,
            "width": 12,
            "height": 8
          },
          "spec": {
            "version": "3.0",
            "widgetType": "line-chart",
            "encodings": {
              "x": {
                "fieldName": "daily_event_date_time",
                "displayName": "Daily Event Date",
                "scale": {
                  "type": "temporal"
                }
              },
              "y": {
                "fields": [
                  {
                    "fieldName": "new_devices",
                    "displayName": "New Devices",
                    "scale": {
                      "type": "quantitative"
                    }
                  },
                  {
                    "fieldName": "cumulative_new_devices",
                    "displayName": "Cumulative New Devices",
                    "scale": {
                      "type": "quantitative"
                    }
                  }
                ]
              }
            },
            "mark": {
              "type": "line",
              "tooltip": true
            },
            "legend": {
              "position": "top"
            },
            "axes": [
              {
                "channel": "x",
                "title": "Daily Event Date"
              },
              {
                "channel": "y",
                "title": "Device Count",
                "side": "left"
              }
            ],
            "colors": {
              "scheme": {
                "new_devices": "#0096D3",
                "cumulative_new_devices": "#BCBCBC"
              }
            }
          },
          "queries": [
            {
              "name": "new_devices_query",
              "query": {
                "datasetName": "hpx_events_model_dataset",
                "fields": [
                  "daily_event_date_time",
                  "new_devices",
                  "cumulative_new_devices"
                ],
                "disaggregated": false
              }
            }
          ]
        }
      ]
    }
  ]
}