{
  "version": "1.0",
  "metadata": {
    "dashboardId": "f31590bb-8c9a-4f06-80ba-a524e0609f2e",
    "name": "New Devices",
    "description": "HPX Events Model with IIDE Table",
    "created": "2024-01-01T00:00:00Z",
    "modified": "2024-01-01T00:00:00Z",
    "tags": ["ThoughtSpot Migration", "HPX Events", "New Devices"]
  },
  "datasets": [
    {
      "name": "hpx_events_model",
      "displayName": "HPX Events Model",
      "query": "SELECT DATE_TRUNC('day', session_start_date_time) AS daily_event_date, SUM(total_device_count) AS new_devices, SUM(SUM(total_device_count)) OVER (ORDER BY DATE_TRUNC('day', session_start_date_time)) AS cumulative_new_devices FROM team_css_analytics_prod.hpx_analytics.paas_tracking_card_metrics GROUP BY DATE_TRUNC('day', session_start_date_time) ORDER BY daily_event_date"
    }
  ],
  "widgets": [
    {
      "id": "widget_1",
      "type": "line",
      "title": "New Devices",
      "description": "Daily new devices with cumulative trend",
      "position": {
        "x": 0,
        "y": 0,
        "width": 12,
        "height": 8
      },
      "query": {
        "dataset": "hpx_events_model",
        "fields": [
          "daily_event_date",
          "new_devices",
          "cumulative_new_devices"
        ]
      },
      "encoding": {
        "x": {
          "fieldName": "daily_event_date",
          "displayName": "Daily Event Date",
          "scale": {
            "type": "temporal"
          }
        },
        "y": {
          "fields": [
            {
              "fieldName": "new_devices",
              "displayName": "New Devices",
              "scale": {
                "type": "quantitative"
              },
              "axis": "left"
            },
            {
              "fieldName": "cumulative_new_devices",
              "displayName": "Cumulative New Devices",
              "scale": {
                "type": "quantitative"
              },
              "axis": "right"
            }
          ]
        },
        "color": {
          "fields": [
            {
              "fieldName": "new_devices",
              "displayName": "New Devices",
              "color": "#0096D3"
            },
            {
              "fieldName": "cumulative_new_devices",
              "displayName": "Cumulative New Devices",
              "color": "#BCBCBC"
            }
          ]
        }
      },
      "visualization": {
        "type": "line",
        "properties": {
          "showLegend": true,
          "legendPosition": "top",
          "responsiveLayout": "auto",
          "dualAxis": true,
          "axisConfigs": [
            {
              "id": "left_axis",
              "type": "Y",
              "linkedColumns": ["new_devices"],
              "position": "left"
            },
            {
              "id": "right_axis",
              "type": "Y",
              "linkedColumns": ["cumulative_new_devices"],
              "position": "right"
            },
            {
              "id": "x_axis",
              "type": "X",
              "linkedColumns": ["daily_event_date"]
            }
          ],
          "seriesColors": [
            {
              "serieName": "New Devices",
              "color": "#0096D3"
            },
            {
              "serieName": "Cumulative New Devices",
              "color": "#BCBCBC"
            }
          ]
        }
      },
      "filters": [],
      "interactions": {
        "drill": {
          "enabled": true,
          "fields": ["daily_event_date"]
        },
        "crossFilter": {
          "enabled": true
        }
      }
    }
  ],
  "layout": {
    "type": "grid",
    "columns": 12,
    "rows": 8
  },
  "filters": {
    "global": []
  },
  "parameters": [],
  "theme": {
    "name": "default",
    "colors": {
      "primary": "#0096D3",
      "secondary": "#BCBCBC"
    }
  },
  "settings": {
    "autoRefresh": {
      "enabled": false,
      "interval": 300
    },
    "responsive": true,
    "exportOptions": {
      "pdf": true,
      "png": true,
      "csv": true
    }
  }
}