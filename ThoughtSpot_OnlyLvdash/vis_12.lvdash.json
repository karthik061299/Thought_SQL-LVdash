{
  "version": "1.0",
  "metadata": {
    "name": "HPX CURR - Data Table",
    "description": "% Devices active in the previous week t14t20, last week t7t13 and this week t0t6",
    "created_by": "ThoughtSpot Migration Agent",
    "created_at": "2024-01-01T00:00:00Z",
    "modified_at": "2024-01-01T00:00:00Z",
    "tags": ["HPX", "CURR", "Device Activity", "Weekly Analysis"]
  },
  "datasets": [
    {
      "name": "hpx_curr_dataset",
      "displayName": "HPX CURR Dataset",
      "query": "SELECT * FROM team_css_analytics_prod.hpx_analytics.hpx_curr_metric_view"
    }
  ],
  "pages": [
    {
      "name": "HPX CURR Analysis",
      "displayName": "HPX CURR Analysis",
      "layout": {
        "position": {
          "x": 0,
          "y": 0,
          "width": 12,
          "height": 8
        }
      },
      "widgets": [
        {
          "name": "hpx_curr_line_chart",
          "displayName": "HPX CURR - Device Activity Over Time",
          "position": {
            "x": 0,
            "y": 0,
            "width": 12,
            "height": 8
          },
          "spec": {
            "version": "3.0",
            "widgetType": "line",
            "encodings": {
              "x": {
                "fieldName": "week_active",
                "displayName": "Week",
                "scale": {
                  "type": "temporal"
                }
              },
              "y": {
                "fields": [
                  {
                    "fieldName": "curr",
                    "displayName": "CURR"
                  },
                  {
                    "fieldName": "previous_week_users_t14t20",
                    "displayName": "Previous Week Users T14t20"
                  },
                  {
                    "fieldName": "last_week_users_t7t13",
                    "displayName": "Last Week Users T7t13"
                  },
                  {
                    "fieldName": "this_week_users_t0t6",
                    "displayName": "This Week Users T0t6"
                  }
                ],
                "scale": {
                  "type": "quantitative"
                }
              }
            },
            "queries": [
              {
                "name": "hpx_curr_query",
                "query": {
                  "datasetName": "hpx_curr_dataset",
                  "fields": [
                    {
                      "name": "week_active",
                      "expression": "week_active"
                    },
                    {
                      "name": "curr",
                      "expression": "AVG(curr)"
                    },
                    {
                      "name": "previous_week_users_t14t20",
                      "expression": "SUM(previous_week_users_t14t20)"
                    },
                    {
                      "name": "last_week_users_t7t13",
                      "expression": "SUM(last_week_users_t7t13)"
                    },
                    {
                      "name": "this_week_users_t0t6",
                      "expression": "SUM(this_week_users_t0t6)"
                    }
                  ],
                  "filters": [
                    {
                      "column": "week_active",
                      "operator": ">=",
                      "values": ["2023-05-01"]
                    }
                  ],
                  "orderBy": [
                    {
                      "column": "week_active",
                      "direction": "ASC"
                    }
                  ]
                }
              }
            ],
            "frameParams": {
              "showTitle": true,
              "title": "HPX CURR - Device Activity Analysis",
              "showLegend": true,
              "legendPosition": "right"
            }
          }
        },
        {
          "name": "hpx_curr_data_table",
          "displayName": "HPX CURR - Data Table",
          "position": {
            "x": 0,
            "y": 8,
            "width": 12,
            "height": 6
          },
          "spec": {
            "version": "3.0",
            "widgetType": "table",
            "encodings": {
              "columns": [
                {
                  "fieldName": "week_active",
                  "displayName": "Week",
                  "scale": {
                    "type": "temporal"
                  }
                },
                {
                  "fieldName": "previous_week_users_t14t20",
                  "displayName": "Previous Week Users T14t20",
                  "scale": {
                    "type": "quantitative"
                  }
                },
                {
                  "fieldName": "last_week_users_t7t13",
                  "displayName": "Last Week Users T7t13",
                  "scale": {
                    "type": "quantitative"
                  }
                },
                {
                  "fieldName": "this_week_users_t0t6",
                  "displayName": "This Week Users T0t6",
                  "scale": {
                    "type": "quantitative"
                  }
                },
                {
                  "fieldName": "curr",
                  "displayName": "CURR",
                  "scale": {
                    "type": "quantitative"
                  }
                }
              ]
            },
            "queries": [
              {
                "name": "hpx_curr_table_query",
                "query": {
                  "datasetName": "hpx_curr_dataset",
                  "fields": [
                    {
                      "name": "week_active",
                      "expression": "week_active"
                    },
                    {
                      "name": "previous_week_users_t14t20",
                      "expression": "SUM(previous_week_users_t14t20)"
                    },
                    {
                      "name": "last_week_users_t7t13",
                      "expression": "SUM(last_week_users_t7t13)"
                    },
                    {
                      "name": "this_week_users_t0t6",
                      "expression": "SUM(this_week_users_t0t6)"
                    },
                    {
                      "name": "curr",
                      "expression": "AVG(curr)"
                    }
                  ],
                  "filters": [
                    {
                      "column": "week_active",
                      "operator": ">=",
                      "values": ["2023-05-01"]
                    }
                  ],
                  "orderBy": [
                    {
                      "column": "week_active",
                      "direction": "ASC"
                    }
                  ]
                }
              }
            ],
            "frameParams": {
              "showTitle": true,
              "title": "HPX CURR - Detailed Data Table",
              "pagination": {
                "enabled": true,
                "pageSize": 50
              }
            }
          }
        }
      ]
    }
  ],
  "parameters": [],
  "filters": [
    {
      "name": "date_filter",
      "displayName": "Date Range Filter",
      "column": "week_active",
      "dataType": "DATE",
      "defaultValue": "2023-05-01",
      "operator": ">="
    }
  ]
}