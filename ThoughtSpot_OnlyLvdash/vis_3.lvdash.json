{
  "version": "1.0",
  "metadata": {
    "name": "New Devices by Top 10 Countries",
    "description": "HPX Events Model with IIDE Table",
    "created_by": "ThoughtSpot Migration Agent",
    "created_at": "2024-01-01T00:00:00Z"
  },
  "datasets": [
    {
      "name": "paas_tracking_card_metrics",
      "displayName": "PaaS Tracking Card Metrics",
      "query": "SELECT geo_country_code, COUNT(DISTINCT aip_device_uuid) AS new_devices, RANK() OVER (ORDER BY COUNT(DISTINCT aip_device_uuid) DESC) AS f_rank FROM team_css_analytics_prod.hpx_analytics.paas_tracking_card_metrics GROUP BY geo_country_code HAVING RANK() OVER (ORDER BY COUNT(DISTINCT aip_device_uuid) DESC) <= 10 ORDER BY new_devices DESC"
    }
  ],
  "pages": [
    {
      "name": "Page 1",
      "displayName": "New Devices by Top 10 Countries",
      "layout": {
        "position": {
          "x": 0,
          "y": 0,
          "width": 6,
          "height": 4
        }
      },
      "spec": {
        "version": "3.0",
        "encodings": {
          "x": {
            "fieldName": "geo_country_code",
            "displayName": "Geo Country Code",
            "scale": {
              "type": "categorical"
            }
          },
          "y": {
            "fieldName": "new_devices",
            "displayName": "New Devices",
            "scale": {
              "type": "quantitative"
            }
          }
        },
        "mark": {
          "type": "arc",
          "tooltip": true
        },
        "frame": {
          "showTitle": true,
          "title": "New Devices by Top 10 Countries"
        }
      },
      "datasets": [
        {
          "name": "paas_tracking_card_metrics",
          "displayName": "PaaS Tracking Card Metrics"
        }
      ]
    }
  ]
}